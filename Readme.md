# Цель
Обсудить. Создать nuget'ы вроде 
1. XXX.Abstraction.DDD
2. XXX.Abstraction.CQRS 
2. итд

Ну и использовать в работе


# Структура

1. **Abstraction** - базовые абстракции
2. **EmailService.Domain + EmailService.Application** - пример домена приложения на базовых абстракциях. Просто разделен на 2 проекта: слой домена и слой приложения с командами и запросами. Он не соберется т.к. я его упростил, чтоб не отвлекаться на лишнее
3. **SqlServer.EF.EmailService** - пример мапинга на EF Core MS Sql


# О базовых абстракциях

### Exception - доменные исключения.
Часто возникает необходимость разделить исключения сервиса на те, что доводятся до пользователя и те которые пользователю видеть не нужно.

Т.е. ошибка "Ссылка не указывает на экземпляр класса" - должна попасть в лог сервиса, а ошибка "Фамилия обязательна к заполнению" - должна дойти до пользователя

Для этого создано DomainException и его наследники. DomainException - исключение, доходящее до пользователя

### DDD - В данной папке лежат базовые абстракции для DDD

В папке OfValueObject - лежит дополнительно 
1. StaticReference - статичный справочник
2. ThesaurusReference - не статический справочник

В двух словах о DDD (в своей интерпретации, не судите строго)

DDD (domain-driven design) - принцип разработки ПО

DDD оперирует 3 "терминами". 
1. Объект значение -  это объект, который идентифицируется своими значениями, например "сумма займа", "задолженность", "номер телефона", "email", "инн" итд 
2. Сущность - это объект, который идентифицируется идентификатором. Т.е. объект у которого есть Id. Два объекта равны другу, если у них равны идентификаторы. Например, "Данные о платеже", "Сведения о месте работы" итд
3. Агрегат -  специальная сущность, к которой напрямую обращаются потребители, который тоже идентифицируется по идентификатору. Это своего рода конечная сущность, например "Займ"

Объекты значения и сущности -  не существуют без агрегата. Агрегат - это сущность, которая всегда целостна - содержит все свои сущности и объекты-значения.


### CQRS - Базовые абстракции команд и запросов
В папке с запросами лежит дополнительно папка OfCollectionQuery - запрос с постраничным результатом, просто как частый шаблон запроса

### О примере

Структура примера EmailService.Application
1. Use - объявленных команд и запросов
2. Interactor - реализация команд и запросов
3. Persistence - интерфейсы хранилищ

Проекты содержат классы, которых нет в коде. Не обращайте на них внимание, они не имеют отношения к цели этого проекта






